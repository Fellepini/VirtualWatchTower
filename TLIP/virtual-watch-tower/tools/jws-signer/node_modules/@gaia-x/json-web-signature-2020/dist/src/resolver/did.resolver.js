"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DidResolver = void 0;
const did_resolver_1 = require("did-resolver");
const web_did_resolver_1 = require("web-did-resolver");
const did_resolution_exception_1 = require("./exception/did-resolution.exception");
class DidResolver {
    constructor() {
        this.didResolver = new did_resolver_1.Resolver(Object.assign({}, (0, web_did_resolver_1.getResolver)()));
    }
    /**
     * Resolve the DID document corresponding to the given DID.
     * <p>
     * Only <code>did:web</code> DIDs are supported at the moment
     * </p>
     *
     * @param did the DID to resolve
     * @throws DidResolutionException thrown when the DID cannot be resolved, please see the error message for details
     */
    async resolve(did) {
        const didResolutionResult = await this.didResolver.resolve(did);
        if (didResolutionResult.didResolutionMetadata.error) {
            throw new did_resolution_exception_1.DidResolutionException(did, didResolutionResult.didResolutionMetadata.error);
        }
        return didResolutionResult.didDocument;
    }
}
exports.DidResolver = DidResolver;
//# sourceMappingURL=did.resolver.js.map